[package]
name = "sdf-metadata"
version = "0.13.0"
edition = "2021"
description = "metadata definition for core sdf"
license = "Apache-2.0"
publish = false

[features]
default = ["host"]
host = [
  "dep:wasmtime",
  "wasmtime/component-model"
]
guest = [
  "dep:wit-bindgen",
  "wit-bindgen/macros",
  "serde/std"
]
yaml = [
  "parser",
  "dep:serde_yaml",
]
parser = [
  "dep:sdf-parser-core",
  "dep:sdf-parser-package",
  "dep:sdf-parser-df",
  "dep:syn",
  "syn/full",
  "syn/parsing",
  "syn/extra-traits",
]

[dependencies]
anyhow.workspace = true
cfg-if = { workspace = true }
croner = { workspace = true }
serde = { workspace = true, features = ["derive"] }
serde_yaml = { workspace = true, optional = true }
syn = { workspace = true, optional = true }
tracing.workspace = true
wasmtime = { workspace = true, optional = true }
wit-bindgen = { workspace = true, optional = true }
wit-encoder = { workspace = true }

sdf-common = { workspace = true, features = ["version"] }
sdf-parser-core = { workspace = true, optional = true }
sdf-parser-package = { workspace = true, optional = true }
sdf-parser-df = { workspace = true, optional = true }

[package.metadata.cargo-udeps.ignore]
normal = ["wit-bindgen"]
