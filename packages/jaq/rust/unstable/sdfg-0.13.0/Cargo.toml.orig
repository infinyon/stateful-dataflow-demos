[package]
name = "sdfg"
version.workspace = true
edition.workspace = true
license = "Apache-2.0"
description = "standard sdf guest"
authors = ["Fluvio Contributors <team@fluvio.io>"]
readme = "README.md"
keywords = ["sdf"]

[lib]
crate-type = ["lib"]

[features]
state = ["dep:bson","dep:simd-json"]
json = ["dep:simd-json","dep:serde_json"]
table = ["dep:sdf-df-guest", "sdf-context-guest/table"]
row = ["dep:sdf-row-guest", "sdf-context-guest/row"]

[dependencies]
anyhow = { workspace = true }
bson = { workspace = true, optional = true }
serde = { workspace = true, features = ["derive", "std"] }
serde_json = { workspace = true, optional = true }
simd-json = { workspace = true, optional = true }
wit-bindgen = { workspace = true, features = ["macros"] }

sdf-macros =  { workspace = true }
sdf-df-guest =  { workspace = true, optional = true }
sdf-row-guest =  { workspace = true, optional = true }
sdf-context-guest = { workspace = true }